{% extends 'home.html' %}

{% load static %}

{% block title %}
  {{ page_title }}
{% endblock %}

{% block content %}
<section class="content-view w-full py-0 bg-gray-50">
    <!-- Contenedor Filtros -->
    <section id="filters" class="content-filter-med w-full py-20 bg-gray-100">
      <div class="filtered container mx-auto px-4 shadow-lg py-4">
          <form method="GET" action="{% url 'dashboard' %}">
      <!-- Aquí van los filtros -->
          <div class="flex flex-wrap justify-between space-x-4">
            <div class="relative z-0 mb-6 flex-1 max-w-[200px] border border-gray-300 rounded-md bg-white">
              <input type="number" name="nit" id="nit" value="{{ request.GET.nit|default:'' }}" class="block py-2.5 px-0 w-full text-sm {% if request.GET.nit %}font-semibold text-[red]{% else %}text-black{% endif %} bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
              <label for="nit" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">NIT</label>
            </div>
            <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
              <input type="text" name="nombre" id="nombre" value="{{ request.GET.nombre|default:'' }}" class="block py-2.5 px-0 w-full text-sm {% if request.GET.nombre %}font-semibold text-[red]{% else %}text-black{% endif %} bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
              <label for="nombre" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Razón Social</label>
            </div>
            <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
              <input type="number" name="codigo_de_habilitacion" id="codigo_de_habilitacion" value="{{ request.GET.codigo_de_habilitacion|default:'' }}" class="block py-2.5 px-0 w-full text-sm {% if request.GET.codigo_de_habilitacion %}font-semibold text-[red]{% else %}text-black{% endif %} bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
              <label for="codigo_de_habilitacion" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Código de Habilitación</label>
            </div>
            <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
              <input type="text" name="serv_nombre" id="serv_nombre" value="{{ request.GET.serv_nombre|default:'' }}" class="block py-2.5 px-0 w-full text-sm {% if request.GET.serv_nombre %}font-semibold text-[red]{% else %}text-black{% endif %} bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
              <label for="serv_nombre" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Descripción del REPS</label>
            </div>
            <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
              <input type="text" name="grse_nombre" id="grse_nombre" value="{{ request.GET.grse_nombre|default:'' }}" class="block py-2.5 px-0 w-full text-sm {% if request.GET.grse_nombre %}font-semibold text-[red]{% else %}text-black{% endif %} bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
              <label for="grse_nombre" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Descripción del Grupo</label>
            </div>
          </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="numero_contrato" class="block text-sm font-medium text-gray-700">Número de Contrato</label>
              <select id="numero_contrato" name="numero_contrato" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.numero_contrato %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for c in contratos.all %}
                          <option value="{{ c }}" {% if c == request.GET.numero_contrato %}selected{% endif %}>{{ c }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="year_contrato" class="block text-sm font-medium text-gray-700">Año de Contrato</label>
              <select id="year_contrato" name="year_contrato" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.year_contrato %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for a in anos.all %}
                          <option value="{{ a }}" {% if a == request.GET.year_contrato %}selected{% endif %}>{{ a }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="sucursal" class="block text-sm font-medium text-gray-700">Sucursal</label>
              <select id="sucursal" name="sucursal" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.sucursal %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for s in sucursales.all %}
                          <option value="{{ s }}" {% if s == request.GET.sucursal %}selected{% endif %}>{{ s }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="supervisor" class="block text-sm font-medium text-gray-700">Supervisor</label>
              <select id="supervisor" name="supervisor" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.supervisor %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for s in supervisores.all %}
                          <option value="{{ s }}" {% if s == request.GET.supervisor %}selected{% endif %}>{{ s }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="categoria_cuentas_medicas" class="block text-sm font-medium text-gray-700">Categoría Cuentas Médicas</label>
              <select id="categoria_cuentas_medicas" name="categoria_cuentas_medicas" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.categoria_cuentas_medicas %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for c in categorias.all %}
                          <option value="{{ c }}" {% if c == request.GET.categoria_cuentas_medicas %}selected{% endif %}>{{ c }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="numero_sede" class="block text-sm font-medium text-gray-700">Número Sede</label>
              <select id="numero_sede" name="numero_sede" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.numero_sede %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for n in numeros_sedes.all %}
                          <option value="{{ n }}" {% if n == request.GET.numero_sede %}selected{% endif %}>{{ n }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="departamento" class="block text-sm font-medium text-gray-700">Departamento</label>
              <select id="departamento" name="departamento" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.departamento %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for d in departamentos.all %}
                          <option value="{{ d }}" {% if d == request.GET.departamento %}selected{% endif %}>{{ d }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="municipio" class="block text-sm font-medium text-gray-700">Municipio</label>
              <select id="municipio" name="municipio" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.municipio %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for m in municipios.all %}
                          <option value="{{ m }}" {% if m == request.GET.municipio %}selected{% endif %}>{{ m }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="ese" class="block text-sm font-medium text-gray-700">ESE</label>
              <select id="ese" name="ese" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.ese %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for e in eses.all %}
                          <option value="{{ e }}" {% if e == request.GET.ese %}selected{% endif %}>{{ e }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="serv_codigo" class="block text-sm font-medium text-gray-700">REPS</label>
              <select id="serv_codigo" name="serv_codigo" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.serv_codigo %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for r in reps.all %}
                          <option value="{{ r.serv_codigo }}" {% if r.serv_codigo == request.GET.serv_codigo %}selected{% endif %}>{{ r.serv_codigo }} - {{ r.serv_nombre }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="grse_codigo" class="block text-sm font-medium text-gray-700">Grupos REPS</label>
              <select id="grse_codigo" name="grse_codigo" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.grse_codigo %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in grupos.all %}
                          <option value="{{ g.grse_codigo }}" {% if g.grse_codigo == request.GET.grse_codigo %}selected{% endif %}>{{ g.grse_codigo }} - {{ g.grse_nombre }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_intramural" class="block text-sm font-medium text-gray-700">Modalidad Intramural</label>
              <select id="modalidad_intramural" name="modalidad_intramural" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_intramural %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in intramural.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_intramural %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_unidad_movil" class="block text-sm font-medium text-gray-700">Modalidad Unidad Movil</label>
              <select id="modalidad_unidad_movil" name="modalidad_unidad_movil" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_unidad_movil %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in unidad_movil.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_unidad_movil %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_domiciliario" class="block text-sm font-medium text-gray-700">Modalidad Domiciliario</label>
              <select id="modalidad_domiciliario" name="modalidad_domiciliario" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_domiciliario %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in domiciliario.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_domiciliario %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_jornada_salud" class="block text-sm font-medium text-gray-700">Modalidad Jornada de Salud</label>
              <select id="modalidad_jornada_salud" name="modalidad_jornada_salud" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_jornada_salud %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in jornada.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_jornada_salud %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="telemedicina_interactiva" class="block text-sm font-medium text-gray-700">Telemedicina Interactiva</label>
              <select id="telemedicina_interactiva" name="telemedicina_interactiva" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.telemedicina_interactiva %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in interactiva.all %}
                          <option value="{{ g }}" {% if g == request.GET.telemedicina_interactiva %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="telemedicina_no_interactiva" class="block text-sm font-medium text-gray-700">Telemedicina no Interactiva</label>
              <select id="telemedicina_no_interactiva" name="telemedicina_no_interactiva" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.telemedicina_no_interactiva %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in no_interactiva.all %}
                          <option value="{{ g }}" {% if g == request.GET.telemedicina_no_interactiva %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_tele_experticia" class="block text-sm font-medium text-gray-700">Modalidad Tele Experticia</label>
              <select id="modalidad_tele_experticia" name="modalidad_tele_experticia" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_tele_experticia %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in experticia.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_tele_experticia %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>
            <div class="col-md-3 relative inline-block w-64">
              <label for="modalidad_tele_monitoreo" class="block text-sm font-medium text-gray-700">Modalidad Tele Monitoreo</label>
              <select id="modalidad_tele_monitoreo" name="modalidad_tele_monitoreo" class="mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 text-base {% if request.GET.modalidad_tele_monitoreo %}font-semibold text-[red]{% else %}text-gray-700{% endif %} focus:border-indigo-500 focus:outline-none focus:ring-indigo-500">
                  <option value="">Selecciona...</option>
                      {% for g in monitoreo.all %}
                          <option value="{{ g }}" {% if g == request.GET.modalidad_tele_monitoreo %}selected{% endif %}>{{ g }}</option>
                      {% endfor %}
              </select>
            </div>

            <!-- Btn buscar !-->
            <button type="submit" class="button-48" role="button"><span class="text">Buscar</span></button>
            <button class="reset-filters button-48" type="submit"><span class="text">Limpiar</span></button>
          </form>
        </div>
    </section>
    <!-- Contenedor Información -->
    <section id="info-buttons" class="content-info w-full lg:w-3/10 py-2 space-y-4 bg-[#e5e8e8] shadow-lg">
      <div class="content-bar container mx-auto px-4 flex justify-between items-center">
          <div class="flex-1">
              <!-- Aquí van los labels de span y botones -->
              <p>Registros encontrados <span class="font-semibold">{{ info_page|length }}</span> - Registros encontrados en el REPS <span class="font-semibold">{{ info_reps|length }}</span></p>
              <p>Filtros Aplicados : 
                  <span class="font-semibold">
                      {% if filtros_aplicados %}
                      {{ filtros_aplicados|join:", " }}
                      {% else %}
                      Ningún filtro aplicado
                      {% endif %}
                  </span>
              </p>
              <p>Ultima Actualización Maestra <span class="font-semibold">02 de enero del 2026</span> - Ultima Actualización REPS <span class="font-semibold">05 de enero del 2026</span></p>
          </div>
          <div class="ml-4">
            <button id="toggle-filters" class="button-49" role="button">Ver Filtros</button>
          </div>
          <div class="ml-4">
            <button class="button-actas" role="button">Ver Tabla</button>
          </div>
        </div>
  </section>
  <section class="w-full py-4 shadow-xl justify-center items-center bg-[#f3f4f581] rounded-2xl">

  <!-- Información Nacional -->
  <div class="relative w-full flex justify-between items-center overflow-auto">
    <div class="col-md-3">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">Positiva</h5>
        </div>
        <div class="card-body">
          <p>Prestadores Contratados <span id="result-query" class="font-semibold">{{ positiva.paginator.count }}</span></p>
          <p>Sedes habilitadas <span id="result-query-sedes" class="font-semibold">{{ sedes_page.paginator.count }}</span></p>
          <p class="hidden">Modalidades <span id="result-query-modalidades" class="font-semibold">{{ modalidades_sede.paginator.count }}</span></p>
          <p>Códigos REPS habilitados <span class="font-semibold">{{ reps_sede|length }}</span></p>
          <p>Departamentos <span class="font-semibold">{{ dptos|length }}</span></p>
          <p>Municipios <span class="font-semibold">{{ municipios_sede|length }}</span></p>
        </div>
      </div>
    </div>
    <h1 class="titulo-tablero text-3xl font-bold text-center my-6">Tablero Red Asistencial</h1>
    <div class="col-md-3">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">REPS</h5>
        </div>
        <div class="card-body">
          <p>Prestadores <span class="font-semibold">{{ proveedores_reps|length }}</span></p>
          <p>Sedes habilitadas en el REPS <span class="font-semibold">{{ sedes_reps }}</span></p>
          <p>Códigos REPS habilitados <span class="font-semibold">{{ reps_sede_reps|length }}</span></p>
          <p>Departamentos <span class="font-semibold">{{ dptos_reps|length }}</span></p>
          <p>Municipios <span class="font-semibold">{{ municipios_sede_reps|length }}</span></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Graficos Prestadores -->
  <!-- Mapas -->
  <div class="row mb-0 m-0 p-0 mx-0">
    <div class="col-md-6 overflow-auto">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">Detalle del Departamento</h5>
        </div>
        <div class="card-body">
          <div id="mapaDpto" class="h-[400px]"></div>
        </div>
      </div>
    </div>
    <div class="col-md-6 overflow-auto">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">Mapa de Concentración a Nivel Departamental</h5>
        </div>
        <div class="card-body">
          <div id="mapaCalor" class="h-[400px]"></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Prestadores Torta -->
  <div class="row mb-4">
    <div class="col-md-12">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">% Distribución Departamental por N° Contratos - {{ positiva.paginator.count }} Prestadores</h5>
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container w-[1500px]">
            <canvas id="chartPrestadoresContrato"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Prestadores representación dpto Torta -->
  <div class="row mb-4">
    <div class="col-md-12">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center text-white font-semibold">% Distribución de Red Asistencial por Departamento</h5>
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container w-[1500px]">
            <canvas id="chartPrestadoresDepartamento"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Tops Prestadores -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px]">
            <canvas id="chartTopMayorDpto"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px]">
            <canvas id="chartTopMenorDpto"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Graficos Sedes Torta -->
  <div class="row mb-4">
    <div class="col-md-12">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7500] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white">% Distribución Sedes por Departamentos  -  Total {{ suma_chart_sedes }}</h5>
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container w-[1500px]">
            <canvas id="chartPrestadoresSedesDepartamento"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tops sedes -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px]">
            <canvas id="chartTopSedeMayor"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px]">
            <canvas id="chartTopSedeMenor"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reps dpto Barras -->
  <div class="row mb-4">
    <div class="col-md-12">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[40px]">
          <h5 class="card-title text-center text-white font-semibold">REPS por Departamento</h5>
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[1200px] w-[2500px]">
            <canvas id="chartRepsDepartamento"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tops Reps -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px]">
            <canvas id="chartTopRepsMayor"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[2px]">
        </div>
        <div class="card-body w-auto overflow-auto">
          <div class="chart-container h-[250px] w-[650px] chart-element" data-filter-key="departamento">
            <canvas id="chartTopRepsMenor"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Proveedores y Departamentos -->
  <div class="row mb-4">
    <div class="col-md-8">
      <div class="card h-100 group">
        <!-- Paginación sin recargar -->
        <div id="content-pagination-proveedores" class="relative bg-transparent">
            <form method="GET" action="">
            <div class="relative mx-4 my-2 w-[110px] min-w-[110px] z-0 mb-0 flex-1 border border-gray-300 rounded-md bg-white">
                <input type="number" name="page-proveedores" id="page-proveedores" min="1" max="{{ positiva.paginator.num_pages }}" data-total-pages-proveedores="{{ positiva.paginator.num_pages }}" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " oninput="updatePageLinkProveedores()" />
                <label for="page-proveedores" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">
                    <p>Pagina <span id="page-number-proveedores" class="font-bold">{{ positiva.number }}</span> de <span class="font-semibold">{{ positiva.paginator.num_pages }}</span></p>
                </label>
            </div>
            <div class="relative flex mx-4 justify-end space-x-4 bg-transparent">
              <button id="btn-page-proveedores" type="submit" onclick="loadPageProveedores(event)" class="buttons-pagination text-blue-500 font-semibold">Ir</a>
                <button id="btn-first-proveedores" type="button" onclick="buttonFirstProveedores(event)" class="buttons-pagination text-blue-500 font-semibold">Primera</button>
                <button id="btn-previous-proveedores" type="button" onclick="buttonPreviousProveedores(event)" class="buttons-pagination text-blue-500 font-semibold"><span id="previous-proveedores" class="text-blue-500 font-semibold">1</span> Anterior</button>
                <button id="btn-next-proveedores" type="button" onclick="buttonNextProveedores(event)" class="buttons-pagination text-blue-500 font-semibold">Siguiente <span id="next-proveedores" class="text-blue-500 font-semibold">2</span></button>
                <button id="btn-last-proveedores" type="button" onclick="buttonLastProveedores(event)" class="buttons-pagination text-blue-500 font-semibold">Última</button>
            </div>
            </form>
          </div>
        <div class="relative flex justify-end space-x-4 bg-transparent mx-4">
          <div class="relative z-0 mb-6 flex-1 max-w-[150px] border border-gray-300 rounded-md bg-white">
            <input type="number" name="nit_proveedores" id="nit_proveedores" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="nit_proveedores" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">NIT</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="nombre_proveedores" id="nombre_proveedores" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="nombre_proveedores" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Razón Social</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 max-w-[150px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="numero_proveedores" id="numero_proveedores" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="numero_proveedores" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Número Contrato</label>
          </div>
        </div>
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white">Proveedores Contratados {{ positiva.paginator.count }}</h5>
        </div>
        <div class="card-body">
          <div id="proveedores-table-container" class="table-responsive h-[40vh] overflow-auto">
            {% include 'partials/dashboard_table_proveedores.html' %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white">Departamentos {{ dptos|length }}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive h-[40vh] overflow-auto">
            <table id="tablaDepartamentos" class="table table-striped table-hover">
              <thead>
                <tr class="sticky top-0 z-20 bg-gray-50">
                  <th class="text-center w-auto max-w-[100px]">Item</th>
                  <th class="text-center w-auto min-w-[200px]">Departamento</th>
                </tr>
              </thead>
              <tbody>
                {% for sh in dptos %}
                  <tr class="table-row" data-filter-key="departamento" data-filter-value="{{ sh.departamento }}">
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">{{ sh.departamento }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sedes y Departamentos -->
  <div class="row mb-4">
    <div class="col-md-8">
      <div class="card h-100 group">
        <!-- Paginación sin recargar -->
        <div id="content-pagination-sedes" class="relative bg-transparent">
          <form method="GET" action="">
            <div class="relative my-2 mx-4 w-[110px] min-w-[110px] z-0 mb-0 flex-1 border border-gray-300 rounded-md bg-white">
                <input type="number" name="page-sedes" id="page-sedes" min="1" max="{{ sedes_page.paginator.num_pages }}" data-total-pages-sedes="{{ sedes_page.paginator.num_pages }}" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " oninput="updatePageLinkSedes()"/>
                <label for="page-sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">
                    <p>Pagina <span id="page-number-sedes" class="font-bold">{{ sedes_page.number }}</span> de <span class="font-semibold">{{ sedes_page.paginator.num_pages }}</span></p>
                </label>
            </div>
            <div class="relative mx-4 flex justify-end space-x-4 bg-transparent">
                <button id="btn-page-sedes" type="submit" onclick="loadPageSedes(event)" class="buttons-pagination text-blue-500 font-semibold">Ir</a>
                <button id="btn-first-sedes" type="button" onclick="buttonFirstSedes(event)" class="buttons-pagination text-blue-500 font-semibold">Primera</button>
                <button id="btn-previous-sedes" type="button" onclick="buttonPreviousSedes(event)" class="buttons-pagination text-blue-500 font-semibold"><span id="previous-sedes" class="text-blue-500 font-semibold">1</span> Anterior</button>
                <button id="btn-next-sedes" type="button" onclick="buttonNextSedes(event)" class="buttons-pagination text-blue-500 font-semibold">Siguiente <span id="next-sedes" class="text-blue-500 font-semibold">2</span></button>
                <button id="btn-last-sedes" type="button" onclick="buttonLastSedes(event)" class="buttons-pagination text-blue-500 font-semibold">Última</button>
            </div>
          </form>
        </div>
        <div class="relative flex justify-end space-x-4 bg-transparent mx-4">
          <div class="relative z-0 mb-6 flex-1 max-w-[150px] border border-gray-300 rounded-md bg-white">
            <input type="number" name="codigo_sedes" id="codigo_sedes" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="codigo_sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Código Habilitación</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 min-w-[200px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="nombre_sedes" id="nombre_sedes" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="nombre_sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Nombre Sede</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 min-w-[100px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="numero_sedes" id="numero_sedes" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="numero_sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Número Sede</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 max-w-[150px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="dpto_sedes" id="dpto_sedes" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="dpto_sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Departamento</label>
          </div>
          <div class="relative z-0 mb-6 flex-1 max-w-[150px] border border-gray-300 rounded-md bg-white">
            <input type="text" name="municipio_sedes" id="municipio_sedes" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
            <label for="municipio_sedes" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">Municipio</label>
          </div>
        </div>
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white">Sedes Habilitadas {{ sedes_page.paginator.count }}</h5>
        </div>
        <div class="card-body">
          <div id="sedes-table-container" class="table-responsive h-[40vh] overflow-auto">
            {% include 'partials/dashboard_table_sedes.html' %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white">Municipio Sede {{ municipios_sede|length }}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive h-[40vh] overflow-auto">
            <table id="tablaMunicipios" class="table table-striped table-hover">
              <thead>
                <tr class="sticky top-0 z-20 bg-gray-50">
                  <th class="text-center w-auto max-w-[100px]">Item</th>
                  <th class="text-center w-auto min-w-[200px]">Municipio</th>
                </tr>
              </thead>
              <tbody>
                {% for sh in municipios_sede %}
                  <tr class="table-row" data-filter-key="municipio" data-filter-value="{{ sh.municipio }}">
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">{{ sh.municipio }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reps y Grupos -->
  <div class="row mb-4">
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white flex justify-center items-center">REPS Habilitados {{ reps_sede|length }}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive h-[40vh] overflow-auto">
            <table id="tablaReps" class="table table-striped table-hover">
              <thead>
                <tr class="sticky top-0 z-20 bg-gray-50">
                  <th class="text-center">Item</th>
                  <th class="text-center">REPS</th>
                  <th>Descripción REPS</th>
                </tr>
              </thead>
              <tbody>
                {% for sh in reps_sede %}
                  <tr class="table-row" data-filter-key="serv_codigo" data-filter-value="{{ sh.serv_codigo }}">
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">{{ sh.serv_codigo }}</td>
                    <td>{{ sh.serv_nombre }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100 group">
        <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300">
          <h5 class="card-title text-center font-semibold text-white flex justify-center items-center">Grupo REPS {{ grupos_sede|length }}</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive h-[40vh] overflow-auto">
            <table id="tablaGrupos" class="table table-striped table-hover">
              <thead>
                <tr class="sticky top-0 z-20 bg-gray-50">
                  <th class="text-center">Item</th>
                  <th class="text-center">Código Grupo</th>
                  <th>Descripción Grupo</th>
                </tr>
              </thead>
              <tbody>
                {% for sh in grupos_sede %}
                  <tr class="table-row" data-filter-key="grse_codigo" data-filter-value="{{ sh.grse_codigo }}">
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td class="text-center">{{ sh.grse_codigo }}</td>
                    <td>{{ sh.grse_nombre }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Tabla Modalidades -->
  <div class="card mb-4 group">
      <!-- Paginación sin recargar -->
      <div id="content-pagination-modalidades" class="relative bg-transparent">
        <form method="GET" action="">
            <div class="relative my-2 mx-4 w-[110px] min-w-[110px] z-0 mb-0 flex-1 border border-gray-300 rounded-md bg-white">
                <input type="number" name="page-modalidades" id="page-modalidades" min="1" max="{{ modalidades_sede.paginator.num_pages }}" data-total-pages-modalidades="{{ modalidades_sede.paginator.num_pages }}" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " oninput="updatePageLinkModalidades()"/>
                <label for="page-modalidades" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">
                    <p>Pagina <span id="page-number-modalidades" class="font-bold">{{ modalidades_sede.number }}</span> de <span class="font-semibold">{{ modalidades_sede.paginator.num_pages }}</span></p>
                </label>
            </div>
            <div class="relative flex justify-end space-x-4 bg-transparent mx-4">
                <button id="btn-page-modalidades" type="submit" onclick="loadPageModalidades(event)" class="buttons-pagination text-blue-500 font-semibold">Ir</a>
                <button id="btn-first-modalidades" type="button" onclick="buttonFirstModalidades(event)" class="buttons-pagination text-blue-500 font-semibold">Primera</button>
                <button id="btn-previous-modalidades" type="button" onclick="buttonPreviousModalidades(event)" class="buttons-pagination text-blue-500 font-semibold"><span id="previous-modalidades" class="text-blue-500 font-semibold">1</span> Anterior</button>
                <button id="btn-next-modalidades" type="button" onclick="buttonNextModalidades(event)" class="buttons-pagination text-blue-500 font-semibold">Siguiente <span id="next-modalidades" class="text-blue-500 font-semibold">2</span></button>
                <button id="btn-last-modalidades" type="button" onclick="buttonLastModalidades(event)" class="buttons-pagination text-blue-500 font-semibold">Última</button>
            </div>
        </form>
    </div>
    <div class="card-header bg-[#ffb977] group-hover:bg-[#ff7700ce] transition-all duration-300 h-[40px]">
      <h5 class="card-title text-center text-white font-semibold">Modalidades REPS</h5>
    </div>
    <div class="card-body">
      <div id="modalidades-table-container" class="table-responsive h-[40vh] overflow-auto">
        {% include 'partials/dashboard_table_modalidades.html' %}
      </div>
    </div>
  </div>
  </section>
</section>
  <!-- Contenedor Toda la Data -->
<section id="section-actas" class="content-div-actas w-full bg-transparent h-max-auto">
  <!-- Contenedor paginacion -->
  <section id="table-pagination" class="content-navidad w-full lg:w-7/10 py-2">
    <div class="content-pagination-med container mx-auto my-auto py-2 px-4 shadow-lg rounded-xl">
        <!-- Título -->
        <h1 class="text-3xl font-bold text-center my-6">RED Asistencial</h1>
        <!-- Paginación -->
        <div id="content-pagination" class="relative bg-transparent">
            <form method="GET" action="">
                <div class="relative w-[200px] min-w-[200px] z-0 mb-0 flex-1 border border-gray-300 rounded-md bg-white">
                    <input type="number" name="page" id="page" min="1" max="{{ data_page.paginator.num_pages }}" data-total-pages="{{ data_page.paginator.num_pages }}" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-gray-100 border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " oninput="updatePageLink()" />
                    <label for="page" class="absolute font-medium text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 left-0 origin-[0_0] bg-gray-100 px-1 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-5 peer-focus:scale-75">
                        <p>Pagina <span id="page-number" class="font-bold">{{ data_page.number }}</span> de <span class="font-semibold">{{ data_page.paginator.num_pages }}</span></p>
                    </label>
                </div>
                <div class="relative flex justify-end space-x-4 bg-transparent">
                    <button id="btn-page" type="submit" onclick="loadPage(event)" class="buttons-pagination text-blue-500 font-semibold">Ir</a>
                    <button id="btn-first" type="button" onclick="buttonFirst(event)" class="buttons-pagination text-blue-500 font-semibold">Primera</button>
                    <button id="btn-previous" type="button" onclick="buttonPrevious(event)" class="buttons-pagination text-blue-500 font-semibold"><span id="previous" class="text-blue-500 font-semibold">1</span> Anterior</button>
                    <button id="btn-next" type="button" onclick="buttonNext(event)" class="buttons-pagination text-blue-500 font-semibold">Siguiente <span id="next" class="text-blue-500 font-semibold">2</span></button>
                    <button id="btn-last" type="button" onclick="buttonLast(event)" class="buttons-pagination text-blue-500 font-semibold">Última</button>
                </div>
            </form>
        </div>
    </div>
  </section>
  <section class="content-table-med w-full py-4 shadow-xl flex justify-center items-center bg-[#f3f4f581]">
    <div id="medicamentos-table-container" class="overflow-x-auto w-[90%] h-[70vh] bg-[#f3f4f562] rounded-xl shadow-xl">
      {% include 'partials/dashboard_table.html' %}
    </div>
  </section>
</section>

<!-- {% load json_filters %} -->
<pre class="">{{ mapa|json_script }}</pre>
<script id="tablero_json" type="application/json">
  {{ tablero|safe }}
</script>
<script id="mapa_data" type="application/json">
  {{ mapa|safe }}
</script>
<script id="mapa_data_dos" type="application/json">
  {{ mapa_dos|safe }}
</script>
<script id="chart_data" type="application/json">
  {{ chart|safe }}
</script>
<script id="chart_contratos" type="application/json">
  {{ chart_contratos|safe }}
</script>
<script id="chart_reps" type="application/json">
  {{ chart_reps|safe }}
</script>
<script id="chart_data_sedes" type="application/json">
  {{ chart_sedes|safe }}
</script>
<script id="total_sedes" type="application/json">
  {{ suma_chart_sedes|safe }}
</script>
<script id="total_pc" type="application/json">
  {{ positiva.paginator.count|safe }}
</script>

<script>
  const logoUrl = "{% static 'resources/logo_positiva.png' %}";
</script>

<script>
  // Guardas la ruta expandida en una variable global o en un data-attribute
  window.colombiaTopoURL = "{% static 'geojson/colombia.topojson' %}";
</script>

<script src="{% static 'medicamentos/js/page-button.js' %}"></script>
<script src="{% static 'medicamentos/js/load-dpto.js' %}"></script>
<script src="{% static 'medicamentos/js/load-calor.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-contratos.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-data-dpto.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-topMax-dpto.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-topMin-dpto.js' %}"></script>
<script src="{% static 'medicamentos/js/header.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-data-dpto-sede.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-topMax-sede.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-topMin-sede.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-reps.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-reps-mayor.js' %}"></script>
<script src="{% static 'medicamentos/js/chart-reps-menor.js' %}"></script>
<script src="{% static 'medicamentos/js/dinamic-filters.js' %}"></script>
<script src="{% static 'medicamentos/js/page-button-proveedores.js' %}"></script>
<script src="{% static 'medicamentos/js/page-number-proveedores.js' %}"></script>
<script src="{% static 'medicamentos/js/page-button-sedes.js' %}"></script>
<script src="{% static 'medicamentos/js/page-number-sedes.js' %}"></script>
<script src="{% static 'medicamentos/js/page-button-modalidades.js' %}"></script>
<script src="{% static 'medicamentos/js/page-number-modalidades.js' %}"></script>
<script src="{% static 'medicamentos/js/filter-proveedores.js' %}"></script>
<script src="{% static 'medicamentos/js/filter-sedes.js' %}"></script>
<script src="{% static 'medicamentos/js/filter-modalidades.js' %}"></script>
<script src="{% static 'medicamentos/js/reset-filter.js' %}"></script>
{% endblock %}